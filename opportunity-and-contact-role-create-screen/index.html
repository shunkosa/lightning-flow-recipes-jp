<!doctype html><html lang=jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="商談と、その商談の取引先責任者のロール(最大2つまで)を1度に登録できる画面フローです。
ポイント #  ルックアップ 要素 #  [ルックアップ] 要素は、選択(入力)された レコードの ID と名前を変数として保持します。商談の取引先責任者のロール (OppotunityContactRole オブジェクト) は必須項目に取引先責任者 ID、商談 ID、ロールがありますが、取引先責任者には、ルックアップ要素のレコードID (lookup_Contact1.recordId や lookup_Contact2.recordId つまり取引先責任者レコードのID)を割り当て、商談 ID には新規作成した商談の ID を、ロールには画面で選択したロールを割り当てています。
レコードコレクション変数 #  サンプルのフローのように割り当て要素を使用しなくても、直接 [レコードの作成] 要素を用いれば、取引先責任者ロールのレコードは作成できます。しかし、一般に同じオブジェクトのレコードを複数登録する場合は、レコードの作成を繰り返し行うのではなく、複数のレコードを1つのコレクション変数にまとめると、[レコードの作成] 要素の使用が1回で済むため、パフォーマンスが良くなります。"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="商談と取引先責任者ロールを1度に作成する画面"><meta property="og:description" content="商談と、その商談の取引先責任者のロール(最大2つまで)を1度に登録できる画面フローです。
ポイント #  ルックアップ 要素 #  [ルックアップ] 要素は、選択(入力)された レコードの ID と名前を変数として保持します。商談の取引先責任者のロール (OppotunityContactRole オブジェクト) は必須項目に取引先責任者 ID、商談 ID、ロールがありますが、取引先責任者には、ルックアップ要素のレコードID (lookup_Contact1.recordId や lookup_Contact2.recordId つまり取引先責任者レコードのID)を割り当て、商談 ID には新規作成した商談の ID を、ロールには画面で選択したロールを割り当てています。
レコードコレクション変数 #  サンプルのフローのように割り当て要素を使用しなくても、直接 [レコードの作成] 要素を用いれば、取引先責任者ロールのレコードは作成できます。しかし、一般に同じオブジェクトのレコードを複数登録する場合は、レコードの作成を繰り返し行うのではなく、複数のレコードを1つのコレクション変数にまとめると、[レコードの作成] 要素の使用が1回で済むため、パフォーマンスが良くなります。"><meta property="og:type" content="article"><meta property="og:url" content="https://shunkosa.github.io/lightning-flow-recipes-jp/opportunity-and-contact-role-create-screen/"><meta property="article:published_time" content="2020-02-28T00:00:00+00:00"><meta property="article:modified_time" content="2020-02-28T00:00:00+00:00"><title>商談と取引先責任者ロールを1度に作成する画面 | Lightning Flow Recipes</title><link rel=manifest href=/lightning-flow-recipes-jp/manifest.json><link rel=icon href=/lightning-flow-recipes-jp/favicon.png type=image/x-icon><link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP" rel=stylesheet><link rel=stylesheet href=/lightning-flow-recipes-jp/book.min.56753f8f4175c4dd20e13b289b032c21f140c3e99976354562421b37a5506c9e.css integrity="sha256-VnU/j0F1xN0g4TsomwMsIfFAw+mZdjVFYkIbN6VQbJ4="><script defer src=/lightning-flow-recipes-jp/jp.search.min.16745cb3350bd3394623cafe9212a952d24af65f9340907da6b775fb763dea36.js integrity="sha256-FnRcszUL0zlGI8r+khKpUtJK9l+TQJB9prd1+3Y96jY="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/lightning-flow-recipes-jp><span>Lightning Flow Recipes</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=検索 aria-label=検索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/lightning-flow-recipes-jp/>トップページ</a></li><li><a href=/lightning-flow-recipes-jp/changelog/>リリースノート</a></li><li>補足<ul><li><a href=/lightning-flow-recipes-jp/design-guideline/>実装時に気をつけると良いこと</a></li><li><a href=/lightning-flow-recipes-jp/unsupported-features/>レコード変更フローの考慮事項</a><br></li></ul></li></ul><ul><li><a href=https://github.com/shunkosa/lightning-flow-recipes-jp/ target=_blank rel=noopener>GitHub</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/lightning-flow-recipes-jp/svg/menu.svg class=book-icon alt=Menu></label>
<strong>商談と取引先責任者ロールを1度に作成する画面</strong>
<label for=toc-control><img src=/lightning-flow-recipes-jp/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ポイント>ポイント</a><ul><li><a href=#ルックアップ-要素>ルックアップ 要素</a></li><li><a href=#レコードコレクション変数>レコードコレクション変数</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1>商談と取引先責任者ロールを1度に作成する画面</h1><p>商談と、その商談の取引先責任者のロール(最大2つまで)を1度に登録できる画面フローです。</p><p><img src=screenshot.png alt></p><h2 id=ポイント>ポイント
<a class=anchor href=#%e3%83%9d%e3%82%a4%e3%83%b3%e3%83%88>#</a></h2><h3 id=ルックアップ-要素>ルックアップ 要素
<a class=anchor href=#%e3%83%ab%e3%83%83%e3%82%af%e3%82%a2%e3%83%83%e3%83%97-%e8%a6%81%e7%b4%a0>#</a></h3><p><img src=lookup.png alt></p><p>[ルックアップ] 要素は、選択(入力)された レコードの ID と名前を変数として保持します。商談の取引先責任者のロール (OppotunityContactRole オブジェクト) は必須項目に取引先責任者 ID、商談 ID、ロールがありますが、取引先責任者には、ルックアップ要素のレコードID (<code>lookup_Contact1.recordId</code> や <code>lookup_Contact2.recordId</code> つまり取引先責任者レコードのID)を割り当て、商談 ID には新規作成した商談の ID を、ロールには画面で選択したロールを割り当てています。</p><h3 id=レコードコレクション変数>レコードコレクション変数
<a class=anchor href=#%e3%83%ac%e3%82%b3%e3%83%bc%e3%83%89%e3%82%b3%e3%83%ac%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3%e5%a4%89%e6%95%b0>#</a></h3><p>サンプルのフローのように割り当て要素を使用しなくても、直接 [レコードの作成] 要素を用いれば、取引先責任者ロールのレコードは作成できます。しかし、一般に<strong>同じオブジェクトのレコードを複数登録する場合は、レコードの作成を繰り返し行うのではなく、複数のレコードを1つのコレクション変数にまとめる</strong>と、[レコードの作成] 要素の使用が1回で済むため、<strong>パフォーマンスが良くなり</strong>ます。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#ポイント>ポイント</a><ul><li><a href=#ルックアップ-要素>ルックアップ 要素</a></li><li><a href=#レコードコレクション変数>レコードコレクション変数</a></li></ul></li></ul></nav></aside></main></body></html>